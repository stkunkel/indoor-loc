/*
 * timer.c: AXI Timer Control
 * Author: Stephanie Kunkel
 * Source: http://ece.gmu.edu/coursewebpages/ECE/ECE699_SW_HW/S15/viewgraphs/ECE699_lecture_4.pdf
 */

/*
 * Includes
 */
#include "timer.h"

/*
 * Global Vairables
 */
XTmrCtr tmrCtr;
static bool tmrExpired = BOOL_FALSE;

/*
 * Function Prototypes
 */
void TMR_Intr_Handler(void *InstancePtr);
void initTmrInt();

/*
 * Timer Interrupt Handler
 */
void TMR_Intr_Handler(void *InstancePtr) {
	if (XTmrCtr_IsExpired(&tmrCtr, 0)) {
		//Stop Timer Controller
		XTmrCtr_Stop(&tmrCtr, 0);

		//Set flag
		tmrExpired = BOOL_TRUE;

		//Reset Timer Controller
		XTmrCtr_Reset(&tmrCtr, 0);

		//Start Timer
		XTmrCtr_Start(&tmrCtr, 0);
	}
}

/*
 * Initialize Timer Interrupt
 */
void initTmrInt() {

}
