/*
 * dataBuffer.c: Robot control and movement data collection
 * Author: Stephanie Kunkel
 */

#ifndef DATABUFFER_H_
#define DATABUFFER_H_

//Includes
#include "../imu/mpu.h"
//#include "pwmsw.h"
#include "../zedboard/print_utils.h"
#include "../zedboard/timer_int.h"

//Defines
#define BUF_ADDR			0x7000000
#define NUMBER_OF_JOINTS	6

//XModem
#define DATA_NUMBER_OF_BYTES	46
#define BYTE0					0x000000FF
#define BYTE1					0x0000FF00
#define BYTE2					0x00FF0000
#define BYTE3					0xFF000000

//Struct for Data Transmission
typedef struct {
	uint32_t pwmValues[NUMBER_OF_JOINTS];
	MpuRegisterData mpuData;
} RobotMpuData;

//Functions
void storeInBuff(RobotMpuData* data);
int transmitBuf();

#endif /* DATABUFFER_H_ */
